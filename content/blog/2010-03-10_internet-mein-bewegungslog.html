---
title: "[Internet] Mein Bewegungslog"
date: "2010-03-10T15:32:00+00:00"
slug: "internet-mein-bewegungslog"
---

<p style="text-align: center;"><img class="size-full wp-image-3462 aligncenter" title="Internet &amp; Technologie" src="/uploads/2010/02/internet.png" alt="" width="506" height="176" /></p>
Auch wenn es jetzt schon seit einiger Zeit im Gebrauch ist und ich schon ein paar Mal darauf hingewiesen habe, m&ouml;chte ich mein <a href="http://run.knut.me/">Online-Bewegungsprotokoll</a> noch einmal etwasdetailliertervorstellen. Vor allem auch um auf die Fragen nach der Technik ein wenig n&auml;her einzugehen.
<!--more-->
<p style="text-align: center;"><img class="size-full wp-image-3586 aligncenter" title="Mein Bewegungsprotokoll" src="/uploads/2010/03/20100310-145603.png" alt="" width="512" height="528" /></p>
Das System basiert auf zwei Teilen, die beide auf dem Webserver laufen. Der eine Teil ist ein Ruby-Script, welches mit einer eigenen Bibliothek <a rel="nofollow external" href="http://de.wikipedia.org/wiki/GPX">GPX-Dateien</a> auslesen kann und die Werte, die es aus den aufgezeichneten Spuren ermittelt, dann in eine Datenbank schreibt. Dieses Script wird durch einen Cronjob alle 10 Minuten aufgerufen und pr&uuml;ft in einem vorher definierten Verzeichnis, ob neue GPX-Dateien dazu gekommen sind.</p><p>Der zweite Teil ist das "Frontend", welches ebenfalls ein Ruby-Script ist. Dieses Script l&auml;uft als CGI-Script auf dem Webserver und ist somit nach au&szlig;en erreichbar. Seine einzige Aufgabe ist es die Daten aus der Datenbank zu lesen, mit einem ERB-Template (HTML mit wenig Ruby-Code) aufzubereiten und an den Browser auszuliefern. Zus&auml;tzlich gibt es noch die Kartenansicht, welche mit der <a rel="nofollow external" href="http://www.openstreetmap.org/">Openstreetmap</a>-Javascript-Bibliothek und der GPX-Datei die Spur visualisiert. Die Kartendaten daf&uuml;r werden vom <a rel="nofollow external" href="http://www.openstreetmap.org/">Openstreetmap</a>-Server geladen und sind damit unter einer <a rel="nofollow external" href="http://creativecommons.org/licenses/by-sa/3.0/deed.de">CC-BY-SA-Lizenz</a> verf&uuml;gbar (Verhindert rechtliche Probleme mit den Karten).</p><p>Die GPX-Dateien entstammen der Track-Aufzeichnung eines <a rel="nofollow external" href="http://www.amazon.de/gp/product/B000UNFLNS?ie=UTF8&amp;tag=knublo-21&amp;linkCode=as2&amp;camp=1638&amp;creative=19454&amp;creativeASIN=B000UNFLNS">Garmin eTrex Legend HCx</a>, welches mich bei meinen Runden begleitet und die Position via GPS aufzeichnet.</p><p>Alles in allem ein recht einfaches System, welches aber seinen Zweck gut erf&uuml;llt: Es zeigt, was ich an Bewegung leiste. Dabei ist dem System egal ob ich gehe, Jogge oder mit dem Rad fahre. Bei mir kommt zwar (bisher) nur die erste Variante zum Zuge aber m&ouml;glich ist die Auswertung aller Tracks, die irgendwie aufgezeichnet werden.</p><p>Ich stelle die Software - so weit es den von mir geschriebenen Code betrifft - unter einer <a rel="nofollow external" href="http://creativecommons.org/licenses/MIT/deed.de">MIT-Lizenz</a> zur Verf&uuml;gung. Ihr k&ouml;nnt also wenn es euch interessiert das Script zum Lernen, Verbessern, f&uuml;r die eigenen Statistiken etc. verwenden. Die verwendeten Javascript-Bibliotheken stehen selbstverst&auml;ndlich unter ihren jeweiligen eigenen Lizenzen. Beachtet aber bitte, dass ich keinen Support daf&uuml;r geben kann. Ihr solltet euch also mit Ruby etc. schon ein wenig auskennen um Probleme, die beim Einsatz der Software entstehen selber beheben zu k&ouml;nnen.</p><p><a rel="nofollow external" href="http://svn.kserver.biz/wsvn/Bewegungslog/tags/0.1/?op=dl">Zum Download v.0.1</a>